@page "/EventEaseApp.github.io/eventlist"
@inject EventService EventService
@inject NavigationManager NavigationManager
@using EventEaseApp.Models
@using EventEaseApp.Services;

<h1 class="text-center">Event List</h1>

@if (EventService.GetEvents().Any())
{
    @foreach (var evt in EventService.GetEvents())
    {
        <EventCard 
            EventName="@evt.Name" 
            EventDate="@evt.Date" 
            EventLocation="@evt.Location"
            EventDescription="@evt.Description"
            Color="@evt.Color"
            IsReadOnly="true"
        />

        @if (evt.IsAttending)
        {
            <p class="text-success text-center"><em>âœ” Attending</em></p>
        }
    }
}
else
{
    <p class="text-center text-muted">No events registered.</p>
}

<nav class="nav-menu text-center mt-4">
    <ul class="list-unstyled d-flex justify-content-center gap-3">
        <li>
            <button class="btn btn-outline-primary" @onclick="@(() => NavigationManager.NavigateTo("eventlist"))">
                Event List
            </button>
        </li>
        <li>
            <button class="btn btn-outline-primary" @onclick="@(() => NavigationManager.NavigateTo("eventdetails"))">
                Event Details
            </button>
        </li>
        <li>
            <button class="btn btn-primary" @onclick="@(() => NavigationManager.NavigateTo("register"))">
                Register
            </button>
        </li>
    </ul>
</nav>
